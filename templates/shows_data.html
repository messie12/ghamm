

<link href="{{url_for('static', filename = 'css/bootstrap.min.css')}}" rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='css/w3.css')}}">

{% if id_utilisateur %}
<div class="w3-top  success fixed-header">
   <div class="w3-bar w3-dark-grey">
      <button id="btnRetour" type="button" class="btn btn-success   w3-right" onclick="form_epargn()" style="margin-left: 5%;margin-top:2%; display: none; ">retour </button></h2>
     <a href="/" class="w3-bar-item w3-button">Accueil</a>
     <a href="#" class="w3-bar-item w3-button">À propos</a>
     <a href="#" class="w3-bar-item w3-button">Services</a>
     <a href="#" class="w3-bar-item w3-button">Contact</a>
     <p class="w3-text-white w3-margin-left  w3-right">operateur <span class="w3-animate-zoom"><strong class="w3-text-green">{{id_utilisateur}}</strong></span>, connecter</p>
    
   </div>
 </div>
 
 <style>
   .w3-top {
     position: fixed;
     width: 100%;
     top: 0;
     left: 0;
     z-index: 1000;
   }
   </style>


<div id="myModal" class="modal fade" role="dialog">

   <div class="modal-dialog "  >
          <div class="modal-content w3-blue">

                <div class="modal-header">
                  <h4 class="modal-title">s'il vous plait inserer les données</h4>
                </div>

              <div class="modal-body">
                   <form action="{{ url_for('insert') }}" method="POST">
                       <div class="form-group">

                          <label>Nom.conducteur:</label>
                          <input type="text" class="form-control" name="conduct" required="1">
                       

                       <div class="form-group">
                           <label>Nom.propriétaire:</label>
                           <input type="text" class="form-control" name="prop" required="1">
                       </div>

                       <div class="form-group">
                           <label>Numero.moteur:</label>
                           <input type="text" class="form-control" name="n_moteur" required="1">
                        </div> 

                        <div class="form-group"></div>  
                           <label>Numero.chasie:</label>
                           <input type="text" class="form-control" name="n_chasie" required="1">
                        </div>

                        <div class="form-group"></div>  
                           <label>Numero.chasie:</label>
                           <input type="text" class="form-control" name="n_chasie" required="1">
                        </div>


                        

         
                     

                        <div class="modal-footer">
                           <button class="btn btn-primary" type="submit" style="margin-left:3%;">Envoyer</button>
                           <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
       
                   </form>
               </div>  
            
         </div>
      </div>
   </div>


  
   {% include "base.html" %}
<div  id="on" style="display:none;">

  
  <div class=" w3-animate-zoom " style="margin-top: 5%;">
     
   
      <div class="row">
              
      {%with messages = get_flashed_messages()%}
      {%if messages%}
      {% for message in messages %}
        <div class="alert alert-success alert-dismissable" role="alert">
           <button type="button" class="close" data-dismiss="alert" aria-label ="close">
           <span aria-hidden="true">&times;</span>
           </button>
      {{message}}
        </div>
      {%endfor%}
      {%endif%}
      {%endwith%}

     <style>
      .fixed-header {
         position: sticky;
         top: 0;
         background-color: #fff; /* Couleur d'arrière-plan de la rangée d'en-tête */
         z-index: 1; /* Assurez-vous que la rangée d'en-tête est au-dessus du contenu du tableau */
       }
      </style> 
      <div class="container-fluid">
      <table class="table table-striped ">
           <tbody>    
                 <tr class="success fixed-header">
                     <th>ID</th>
                     <th>Nom.du chauffeur</th>
                     <th>Propriétaire</th>
                     <th>Num. Moteur</th>
                     <th>Num.chasie</th>
                     <th>Marque</th>
                     <th>Couleur</th>
                     <th>Parking</th>
                     <th>Date/heure</th>
                     <th>Action</th>
                  </tr>

               <div class="btn container " >
                   {% for row in payement_terminaux %}
                     <tr>
                        <td>{{row.0}}</td>
                        <td><span class="w3-text-green w3-strong">{{row.1}}</span></td>
                        <td>{{row.2}}</td>
                        <td>{{row.3}}</td>
                        <td>{{row.4}}</td>
                        <td>{{row.5}}</td>
                        <td>{{row.6}}</td>
                        <td>{{row.7}}</td>
                        <td>{{row.8}}</td>

                
                        <td>
                           <a href="/update/{{row.0}}" class="btn btn-warning btn-xs" data-toggle="modal" data-target="#modaledit{{row.0}}">Edit</a>
                           <a href="/delete/{{ row.0 }}" class="btn btn-danger btn-xs" onclick="return confirm('etes vous sur de vouloire suprimer?')">suprimer</a>
                           <a href="/detail/{{ row.0 }}" class="btn btn-success btn-xs">details</a> 
                        </td>

                     </tr>
               </div>
            </div>
         </div>

       <div id="modaledit{{row.0}}" class="modal fade" role="dialog">
            <div class="modal-dialog">
                 <div class="modal-content">
                       <div class="modal-header">
                           <button type="button" class="close" data-dismiss="modal">&times;</button>
                           <h4 class="modal-title">Update Information</h4>
                        </div>

                        <div class="modal-body">
                             <form action="{{ url_for('update') }}" method="POST">

                                    <div class="form-group">
                                       <label>Nom:</label>
                                       <input type="hidden"  name="id" value="{{row.0}}">
                                       <input type="text" class="form-control" name="nom" value="{{row.1}}">
                                    </div>

                                    <div class="form-group">
                                       <label>matricule:</label>
                                       <input type="text" class="form-control" name="matric" value="{{row.2}}">
                                    </div>

                                    <div class="form-group">
                                        <label>N.chasie:</label>
                                        <input type="text" class="form-control" name="tel" value="{{row.3}}">
                                    </div>

                                    <div class="form-group"></div>
                                        <label>Parking:</label>
                                        <input type="text" class="form-control" name="num_compt" value="{{row.4}}">
                                    </div>

                                    <div class="form-group">
                                        <button class="btn btn-primary w3-margin-left" type="sbumit">Mise a jour</button>
                                    </div>
                                    <div class="modal-footer">
                                       <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                     </div>
                                 </form>
                           </div>
                     </div>
               </div>


 



                 {% endfor  %}

               </tbody>
               
            </table>
         </div>
      </div>
   </div>
</div>
</div>


<script type="text/javascript" src="{{url_for('static', filename='js/jquery-3.2.1.min.js') }}"></script>

<script type="text/javascript" src="{{url_for('static', filename = 'js/bootstrap.min.js')}}"></script>


<div class="w3-animate-zoom" id="off" style="display: block;">
  
   
   
   
       <div class="w3-contenair w3-card-4 w3-round-xlarge w3-panel " style="margin-right:1% ;margin-left: 1%;max-height: 650; margin-top: 5% ">
            <div class="w3-contenair">
               <button type="button" class="btn btn-success  " onclick="fermer_()" style="margin-left:3% ; ">service recolte de font </button></h2>
               
               <button type="button" class="btn btn-success  " onclick="" style="margin-left:3% ; ">Enregistre un client</button></h2>
               
               <button type="button" class="btn btn-success  " data-toggle="modal" data-target="#myModal" style="margin-left:3% ; ">formulaire de recolte </button></h2>
            </div>
        
            <div class="w3-contenair w3-card-4 w3-round-xlarge w3-panel w3-gray " style="margin-right:1% ;margin-left: 1%;max-height: 650; ">
                  <br>
                  <p><label for="" class="w3-text-white"> nombre de moto déja enrgistre :</label></p>
                  <p> <label for=""class="w3-text-white"> fonts déja recolté: <span class="w3-text-yellow">{{nbr_enregis}} Fc</span></label></p>
                  <p><label for=""class="w3-text-white"> depense du jour: </label></p>
                  <p><label for=""class="w3-text-white"> depense total: </label></p>
                  <p><label for=""class="w3-text-white"> nombre de personne ayant recu le credit: </label></p>
                  <p><label for=""class="w3-text-white"> fonts total de credit offert : </label></p>
                  <p><label for=""class="w3-text-white"> Agent 0001 a déja recolté :<span class="w3-text-yellow">{{AG1}} Fc.</span> </label></p>
                  <p><label for=""class="w3-text-white"> Agent 0002 a déja recolté :<span class="w3-text-yellow">{{AG2}} Fc.</span> </label></p>
                  <p><label for=""class="w3-text-white"> Agent 0003 a déja recolté :<span class="w3-text-yellow">{{AG3}} Fc.</span> </label></p>
                  <p><label for=""class="w3-text-white"> Agent 0004 a déja recolté :<span class="w3-text-yellow">{{AG4}} Fc.</span> </label></p>
            </div>
         
       </div>

       {% endif %}
      

<script>

   function form_epargn(){
        document.getElementById("on").style.display = "none";
        document.getElementById("off").style.display = "block";
        document.getElementById("btnRetour").style.display = "none";
        
   }
   
   
   function fermer_(){
     document.getElementById("off").style.display = "none";
     document.getElementById("on").style.display = "block";
     document.getElementById("btnRetour").style.display = "block";
     
   }
     
</script>


</html>